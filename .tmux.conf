# Prefix
set-option -g prefix C-x

# Japanese
setw -g utf8 on
set -g status-utf8 on

# pane-active-border
set -g pane-active-border-fg white

# KeyBindings
unbind d
unbind 1
unbind -n M-h
bind 0 kill-pane
bind 1 break-pane
bind 2 split-window -v
bind 3 split-window -h
bind C-p select-pane -U
bind C-n select-pane -D
bind C-b select-pane -L
bind C-f select-pane -R
bind -n M-P resize-pane -U
bind -n M-N resize-pane -D
bind -n M-B resize-pane -L
bind -n M-F resize-pane -R

bind C-r source-file ~/.tmux.conf
bind k kill-window
unbind &
bind -r ^[ copy-mode
bind -r ^] paste-buffer

# Tab change
bind -n M-t new-window
bind -n M-{ previous-window
bind -n M-} next-window
bind -n M-e kill-window

bind -n C-o run-shell "open -a emacs"
set-option -g default-shell /bin/zsh

# Pane change by C-t
bind-key -n ^t select-pane -t:.+

# OSX pasteboard
set-option -g default-command "reattach-to-user-namespace -l zsh"

# source ~/.vim/bundle/powerline/powerline/bindings/tmux/powerline.conf

if-shell 'test -z "$POWERLINE_COMMAND"' 'if-shell "which powerline-client" "set-environment -g POWERLINE_COMMAND powerline-client" "set-environment -g POWERLINE_COMMAND powerline"'
set -g status on
set -g status-utf8 on
set -g status-interval 2
set -g status-fg colour231
set -g status-bg colour239
set -g status-left-length 20
set -g status-left '#[fg=colour16,bg=colour254,bold] #S #[fg=colour254,bg=colour239,nobold]#(eval $POWERLINE_COMMAND tmux left)'
set -g status-right '#(eval $POWERLINE_COMMAND tmux right -R pane_id=`tmux display -p "#D"`)'
set -g status-right-length 150
set -g window-status-format "#[fg=colour244,bg=colour239]#I #[fg=colour244] #[default]#W "
set -g window-status-current-format "#[fg=colour240,bg=colour31]#[fg=colour117,bg=colour31] #I  #[fg=colour231,bold]#W #[fg=colour31,bg=colour239,nobold]"
set-window-option -g window-status-fg colour249
set-window-option -g window-status-activity-attr none
set-window-option -g window-status-bell-attr none
set-window-option -g window-status-activity-fg yellow
set-window-option -g window-status-bell-fg red

