<?xml version="1.0"?>
<root>
  <item>
    <name>Core settings</name>
    <identifier>private.core_settings</identifier>
    <block>
      <config_only>notsave.private_control_u_1</config_only>
      <autogen>
        __KeyToKey__
        KeyCode::G, VK_CONTROL,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_1,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::U, VK_CONTROL,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_1,
        KeyCode::VK_CONFIG_FORCE_ON_notsave_private_control_u_2,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::P, VK_CONTROL,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_1,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::N, VK_CONTROL,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_1,
      </autogen>
    </block>

    <block>
      <config_only>notsave.private_control_u_2</config_only>
      <autogen>
        __KeyToKey__
        KeyCode::G, VK_CONTROL,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_2,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::U, VK_CONTROL,
        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_2,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::P, VK_CONTROL,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,

        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,

        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,

        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,
        KeyCode::CURSOR_UP,

        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_2,
      </autogen>
      <autogen>
        __KeyToKey__
        KeyCode::N, VK_CONTROL,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,

        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,

        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,

        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,
        KeyCode::CURSOR_DOWN,

        KeyCode::VK_CONFIG_FORCE_OFF_notsave_private_control_u_2,
      </autogen>
    </block>
  </item>

  <item>
    <name>Enable Control-u</name>
    <identifier>private.emacsmode_control_u</identifier>
    <not>{{EMACS_MODE_IGNORE_APPS}}</not>
    <autogen>
      __KeyToKey__
      KeyCode::U, VK_CONTROL,
      KeyCode::VK_CONFIG_FORCE_ON_notsave_private_control_u_1,
    </autogen>
  </item>

  <item>
    <name>Enable Control-u in Eclipse</name>
    <identifier>private.emacsmode_control_u_eclipse</identifier>
    <only>ECLIPSE</only>
    <autogen>
      __KeyToKey__
      KeyCode::U, VK_CONTROL,
      KeyCode::VK_CONFIG_FORCE_ON_notsave_private_control_u_1,
    </autogen>
  </item>

  <item hidden="true">
    <name>C-u (1)</name>
    <identifier vk_config="true">notsave.private_control_u_1</identifier>
    <autogen>__ShowStatusMessage__ C-u (1)</autogen>
  </item>

  <item hidden="true">
    <name>C-u (2)</name>
    <identifier vk_config="true">notsave.private_control_u_2</identifier>
    <autogen>__ShowStatusMessage__ C-u (2)</autogen>
  </item>

  <item>
    <name>[Not Emacs]Control+J to Return</name>
    <identifier>remap.controlJ2return_not_emacs</identifier>
    <not>EMACS</not>
    <autogen>__KeyToKey__ KeyCode::J, VK_CONTROL, KeyCode::RETURN</autogen>
  </item>

  <item>
    <name>[All Time]Control+J to Return</name>
    <identifier>remap.controlJ2return_all_time</identifier>
    <autogen>__KeyToKey__ KeyCode::J, VK_CONTROL, KeyCode::RETURN</autogen>
  </item>

  <item>
    <name>[Not Terminal] Option+[|] to Command+{|} (JIS)</name>
    <identifier>option.not_terminal_tab_change_jis</identifier>
    <not>TERMINAL</not>
    <autogen>__KeyToKey__ KeyCode::JIS_BRACKET_RIGHT, VK_OPTION, KeyCode::JIS_BRACKET_RIGHT, ModifierFlag::COMMAND_L | VK_SHIFT</autogen>
    <autogen>__KeyToKey__ KeyCode::JIS_BRACKET_LEFT, VK_OPTION, KeyCode::JIS_BRACKET_LEFT, ModifierFlag::COMMAND_L | VK_SHIFT</autogen>
  </item>

  <item>
    <name>[Not Terminal] Option+O|P to Command+{|} (US)</name>
    <identifier>option.not_terminal_tab_change_us</identifier>
    <not>TERMINAL</not>
    <autogen>__KeyToKey__ KeyCode::P, VK_OPTION, KeyCode::BRACKET_RIGHT, ModifierFlag::COMMAND_L | VK_SHIFT</autogen>
    <autogen>__KeyToKey__ KeyCode::O, VK_OPTION, KeyCode::BRACKET_LEFT, ModifierFlag::COMMAND_L | VK_SHIFT</autogen>
  </item>

  <item>
    <name>[Only Terminal] Option+O|P to Option+{|} (US)</name>
    <identifier>option.only_terminal_tab_change_us</identifier>
    <only>TERMINAL</only>
    <autogen>__KeyToKey__ KeyCode::P, VK_OPTION, KeyCode::BRACKET_RIGHT, ModifierFlag::OPTION_L | VK_SHIFT</autogen>
    <autogen>__KeyToKey__ KeyCode::O, VK_OPTION, KeyCode::BRACKET_LEFT, ModifierFlag::OPTION_L | VK_SHIFT</autogen>
  </item>

  <item>
    <name>[Not Terminal] Option+E to Command+W</name>
    <identifier>option.not_terminal_opt_e</identifier>
    <not>TERMINAL</not>
    <autogen>__KeyToKey__ KeyCode::E, VK_OPTION, KeyCode::W, ModifierFlag::COMMAND_L</autogen>
  </item>

  <item>
    <name>[Not Terminal] Option+T to Command+T</name>
    <identifier>option.emacsmode_ex_optionT_org</identifier>
    <not>TERMINAL</not>
    <autogen>__KeyToKey__ KeyCode::T, VK_OPTION, KeyCode::T, ModifierFlag::COMMAND_L</autogen>
  </item>

  <replacementdef>
    <replacementname>EMACS_MODE_MARKSET_EXTRA</replacementname>
    <replacementvalue>
      <![CDATA[
               <autogen>
               --KeyToKey--
               KeyCode::I, VK_CONTROL | ModifierFlag::SHIFT_L | ModifierFlag::NONE,
               KeyCode::VK_LOCK_SHIFT_L_FORCE_OFF,
               KeyCode::I, VK_CONTROL,
               KeyCode::VK_CONFIG_FORCE_OFF_notsave_emacsmode_ex_controlSpace_core
               </autogen>
      ]]>
    </replacementvalue>
  </replacementdef>

  <item>
    <name>MarkSet is changed.</name>
  </item>

  <item>
    <name>[All Time] Option+H to Backward Delete</name>
    <identifier>option.opt_h_backward_delete</identifier>
    <autogen>__KeyToKey__ KeyCode::H, VK_OPTION, KeyCode::DELETE, ModifierFlag::OPTION_L</autogen>
  </item>

  <item>
    <name>[Emacs] toggle eisuu with C-x</name>
    <identifier>option.control_x_with_eisuu</identifier>
    <only>{{EMACS_MODE_IGNORE_APPS}}</only>
    <autogen>__KeyToKey__ KeyCode::X, VK_CONTROL, KeyCode::X, VK_CONTROL, KeyCode::JIS_EISUU</autogen>
  </item>

  <item>
    <name>F8 to Music Play/Pause</name>
    <identifier>remap.f8_to_music_play_pause</identifier>
    <autogen>__KeyToConsumer__ KeyCode::F8, ConsumerKeyCode::MUSIC_PLAY</autogen>
  </item>

  <item>
    <name>F10,F11,F12 to Speaker Controls</name>
    <appendix>F10 to Mute</appendix>
    <appendix>F11 to Volume Down</appendix>
    <appendix>F12 to Volume Up</appendix>
    <identifier>remap.fkeys_to_consumer_f10_copy</identifier>
    <autogen>__KeyToConsumer__ KeyCode::F10, ConsumerKeyCode::VOLUME_MUTE</autogen>
    <autogen>__KeyToConsumer__ KeyCode::F11, ConsumerKeyCode::VOLUME_DOWN</autogen>
    <autogen>__KeyToConsumer__ KeyCode::F12, ConsumerKeyCode::VOLUME_UP</autogen>
  </item>

  <item>
    <name>Up-Arrow to Shift_L</name>
    <identifier>remap.uparrow_to_shiftL</identifier>
    <autogen>__KeyToKey__ KeyCode::CURSOR_UP, KeyCode::SHIFT_L</autogen>
  </item>

  <item>
    <name>Shift_R to Up-Arrow</name>
    <identifier>remap.shiftR_to_up_arrow</identifier>
    <autogen>__KeyToKey__ KeyCode::SHIFT_R, KeyCode::CURSOR_UP</autogen>
  </item>

  <item>
    <name>Control_L to Command_L, Command_L to Control_R, Command_R to Option_L</name>
    <identifier>remap.ikstrm_style_cmd</identifier>
    <autogen>__KeyToKey__ KeyCode::CONTROL_L, KeyCode::COMMAND_L</autogen>    
    <autogen>__KeyToKey__ KeyCode::COMMAND_L, KeyCode::CONTROL_R</autogen>
    <autogen>__KeyToKey__ KeyCode::COMMAND_R, KeyCode::OPTION_L</autogen>
  </item>

  <item>
    <name>Complete Vi Mode Improved</name>
    <identifier vk_config="true">notsave.complete_vimode_improved</identifier>
    <autogen>__ShowStatusMessage__ Vi Mode Improved</autogen>
    <block>
      <!-- HJKL -->
      <autogen>__KeyToKey__ KeyCode::H, KeyCode::CURSOR_LEFT</autogen>
      <autogen>__KeyToKey__ KeyCode::J, KeyCode::CURSOR_DOWN</autogen>
      <autogen>__KeyToKey__ KeyCode::K, KeyCode::CURSOR_UP</autogen>
      <autogen>__KeyToKey__ KeyCode::L, KeyCode::CURSOR_RIGHT</autogen>

      <!-- 0, Shift+4 -->
      <autogen>__KeyToKey__ KeyCode::KEY_0, KeyCode::CURSOR_LEFT, ModifierFlag::COMMAND_L</autogen>
      <autogen>__KeyToKey__ KeyCode::KEY_4, VK_SHIFT, KeyCode::CURSOR_RIGHT, ModifierFlag::COMMAND_L</autogen>

      <!-- C-f, C-b -->
      <autogen>__KeyToKey__ KeyCode::F, VK_CONTROL, KeyCode::PAGEDOWN</autogen>
      <autogen>__KeyToKey__ KeyCode::B, VK_CONTROL, KeyCode::PAGEUP</autogen>

      <!-- B, E -->
      <autogen>__KeyToKey__ KeyCode::B, KeyCode::CURSOR_LEFT, ModifierFlag::OPTION_L</autogen>
      <autogen>__KeyToKey__ KeyCode::E, KeyCode::CURSOR_RIGHT, ModifierFlag::OPTION_L</autogen>

      <!-- W -->
      <autogen>__KeyToKey__ KeyCode::W, KeyCode::CURSOR_RIGHT, ModifierFlag::OPTION_L, KeyCode::CURSOR_RIGHT, ModifierFlag::OPTION_L, KeyCode::CURSOR_LEFT, ModifierFlag::OPTION_L</autogen>

      <!-- G, Shift+G -->
      <autogen>__KeyToKey__ KeyCode::G, VK_SHIFT, KeyCode::END</autogen>
      <autogen>__KeyToKey__ KeyCode::G, KeyCode::HOME</autogen>

      <!-- SLASH, N -->
      <autogen>__KeyToKey__ KeyCode::SLASH, KeyCode::F, ModifierFlag::COMMAND_L, KeyCode::VK_CONFIG_FORCE_OFF_notsave_complete_vimode</autogen>
      <autogen>__KeyToKey__ KeyCode::N, KeyCode::G, ModifierFlag::COMMAND_L</autogen>

      <!-- X -->
      <autogen>__KeyToKey__ KeyCode::X, VK_SHIFT | ModifierFlag::NONE, KeyCode::DELETE</autogen>
      <autogen>__KeyToKey__ KeyCode::X, ModifierFlag::NONE, KeyCode::FORWARD_DELETE</autogen>

      <!-- F, I -->
      <autogen>__KeyToKey__ KeyCode::F, KeyCode::FN</autogen>
      <autogen>__KeyToKey__ KeyCode::I, KeyCode::VK_CONFIG_TOGGLE_notsave_complete_vimode_improved</autogen>
    </block>

  </item>

  <item>
    <name>[Not Vim]Control_C to turn on Complete Vi Mode Improved</name>
    <identifier>remap.vimode_turnon_ctrl_c</identifier>
    <not>VI</not>
    <config_not>notsave.complete_vimode_improved</config_not>
    <autogen>__KeyToKey__ KeyCode::C, VK_CONTROL, KeyCode::VK_CONFIG_FORCE_ON_notsave_complete_vimode_improved</autogen>
  </item>

</root>
